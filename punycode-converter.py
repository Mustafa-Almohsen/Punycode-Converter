#!/usr/bin/env python3
from rich.console import Console
from rich.table import Table

console = Console()

# Function to encode a character to Punycode
def encode_punycode(char):
    try:
        return char.encode('idna').decode('ascii')
    except:
        try:
            return 'xn--' + char.encode('punycode').decode('ascii')
        except:
            return None

# Extended homoglyph map for letters, numbers, and some symbols
homoglyphs_map = {
    'a': ['Ã ','Ã¡','Ã¢','Ã£','Ã¤','Ã¥','É‘','Ğ','Î‘','áª','ï¼¡','ğ”„','ğ•¬','ğ’œ','ğ€','ğ´','ğ˜ˆ','ğ™°','ğ– ','ğ—”','ğ˜¼','ğš¨','ğ‘¨','â“','â’¶','ğŸ…','ğŸ…°','ğ”','ğ–†','ğ’¶','ğ—®','ğ˜¢'],
    'b': ['Ğ¬','á','Æ„','á–¯','ğ›','ğ‘','ğ’ƒ','ğ“«','ğ”Ÿ','ğ•“','ğ–‡','ğ—¯','ğ˜£','ğ™—','ğš‹'],
    'c': ['Ï²','Ñ','Æˆ','È¼','á¸‰','â²¥','ğœ','ğ‘','ğ’„','ğ“¬','ğ” ','ğ•”','ğ–ˆ','ğ—°','ğ˜¤','ğ™˜','ğšŒ'],
    'd': ['Ô','Õª','á§','ğ','ğ‘‘','ğ’…','ğ“­','ğ”¡','ğ••','ğ–‰','ğ—±','ğ˜¥','ğ™™','ğš'],
    'e': ['Ğµ','Ò½','â„®','á¸›','á¸','áº¹','Ã©','Ã¨','Ãª','Ã«','Ä“','Ä—','Ä™','ğ','ğ‘’','ğ’†','ğ“®','ğ”¢','ğ•–','ğ–Š','ğ—²','ğ˜¦','ğ™š','ğš'],
    'f': ['Ò“','ğŸ','ğ‘“','ğ’‡','ğ“¯','ğ”£','ğ•—','ğ–‹','ğ—³','ğ˜§','ğ™›','ğš'],
    'g': ['É¡','Ö','ğ ','ğ‘”','ğ’ˆ','ğ“°','ğ”¤','ğ•˜','ğ–Œ','ğ—´','ğ˜¨','ğ™œ','ğš'],
    'h': ['Ò»','Õ°','á‚','â„','ğ¡','ğ’‰','ğ’½','ğ“±','ğ”¥','ğ•™','ğ–','ğ—µ','ğ˜©','ğ™','ğš‘'],
    'i': ['Ñ–','É©','á¥','â… ','Ä±','Ã­','Ã¬','Ã®','Ã¯','Ä«','Ä¯','ğ¢','ğ‘–','ğ’Š','ğ“²','ğ”¦','ğ•š','ğ–','ğ—¶','ğ˜ª','ğ™','ğš’'],
    'j': ['Ñ˜','Ê','Ï³','ğ£','ğ‘—','ğ’‹','ğ“³','ğ”§','ğ•›','ğ–','ğ—·','ğ˜«','ğ™Ÿ','ğš“'],
    'k': ['Îº','ğ¤','ğ‘˜','ğ’Œ','ğ“´','ğ”¨','ğ•œ','ğ–','ğ—¸','ğ˜¬','ğ™ ','ğš”'],
    'l': ['â…¼','Ó','Æ–','ÊŸ','ğ¥','ğ‘™','ğ’','ğ“µ','ğ”©','ğ•','ğ–‘','ğ—¹','ğ˜­','ğ™¡','ğš•'],
    'm': ['Ğ¼','á¹ƒ','á´','ğ¦','ğ‘š','ğ’','ğ“¶','ğ”ª','ğ•','ğ–’','ğ—º','ğ˜®','ğ™¢','ğš–'],
    'n': ['Õ¸','Ğ¿','Õ¼','á¹…','á¹‡','á¹‹','ğ§','ğ‘›','ğ’','ğ“·','ğ”«','ğ•Ÿ','ğ–“','ğ—»','ğ˜¯','ğ™£','ğš—'],
    'o': ['Î¿','Ö…','Ó§','Ã¶','Ã³','Ã²','Ã´','Ãµ','Å','Å‘','â²Ÿ','ğ¨','ğ‘œ','ğ“¸','ğ”¬','ğ• ','ğ–”','ğ—¼','ğ˜°','ğ™¤','ğš¬'],
    'p': ['Ñ€','Ï','â´','ğ©','ğ‘','ğ’‘','ğ“¹','ğ”­','ğ•¡','ğ–•','ğ—½','ğ˜±','ğ™¥','ğš­'],
    'q': ['Õ¦','Ô›','Õ£','ğª','ğ‘','ğ’’','ğ“º','ğ”®','ğ•¢','ğ––','ğ—¾','ğ˜²','ğ™¦','ğš'],
    'r': ['á´¦','Ğ³','Å™','È“','á¹›','â²…','ğ«','ğ‘Ÿ','ğ’“','ğ“»','ğ”¯','ğ•£','ğ–—','ğ—¿','ğ˜³','ğ™§','ğš›'],
    's': ['Ñ•','Ê‚','á¹¡','á¹£','ğ¬','ğ‘ ','ğ’”','ğ“¼','ğ”°','ğ•¤','ğ–˜','ğ˜´','ğ™¨','ğšœ'],
    't': ['Ñ‚','Ï„','á¹­','È›','â²§','ğ­','ğ‘¡','ğ’•','ğ“½','ğ”±','ğ•¥','ğ–™','ğ˜µ','ğ™©','ğš'],
    'u': ['Ï…','Õ½','Ã¼','Ãº','Ã¹','Ã»','Å«','â²©','ğ®','ğ‘¢','ğ’–','ğ“¾','ğ”²','ğ•¦','ğ–š','ğ˜¶','ğ™ª','ğš'],
    'v': ['Î½','Ñµ','â´¸','ğ¯','ğ‘£','ğ’—','ğ“¿','ğ”³','ğ•§','ğ–›','ğ—','ğ˜·','ğ™«','ğšŸ'],
    'w': ['Ô','Õ¡','Ñ¡','â²±','ğ°','ğ‘¤','ğ’˜','ğ”€','ğ•¨','ğ–œ','ğ—','ğ˜¸','ğ™¬','ğš '],
    'x': ['Ñ…','Ò³','Ó¿','ğ±','ğ‘¥','ğ’™','ğ”','ğ•©','ğ–','ğ—‘','ğ˜¹','ğ™­','ğš¡'],
    'y': ['Ñƒ','Ò¯','Ó¯','Ã½','Ã¿','â²©','ğ²','ğ‘¦','ğ’š','ğ”‚','ğ•ª','ğ–','ğ—’','ğ˜º','ğ™®','ğš¢'],
    'z': ['á´¢','Å¼','Åº','Å¾','ğ³','ğ‘§','ğ’›','ğ”ƒ','ğ•«','ğ–Ÿ','ğ—“','ğ˜»','ğ™¯','ğš£'],
    '0': ['ï¼','ğŸ','â“ª','ğŸ„Œ'],
    '1': ['ï¼‘','ğŸ','â‘ ','ğŸ„'],
    '2': ['ï¼’','ğŸ','â‘¡','ğŸ„‚'],
    '3': ['ï¼“','ğŸ‘','â‘¢','ğŸ„ƒ'],
    '4': ['ï¼”','ğŸ’','â‘£','ğŸ„„'],
    '5': ['ï¼•','ğŸ“','â‘¤','ğŸ„…'],
    '6': ['ï¼–','ğŸ”','â‘¥','ğŸ„†'],
    '7': ['ï¼—','ğŸ•','â‘¦','ğŸ„‡'],
    '8': ['ï¼˜','ğŸ–','â‘§','ğŸ„ˆ'],
    '9': ['ï¼™','ğŸ—','â‘¨','ğŸ„‰'],
    '@': ['ï¼ ','ğŸ„°'],
    '.': ['ï¼','ã€‚'],
    '-': ['ï¼','â€‘']
}

def generate_punycode_variants(letter):
    letter_lower = letter.lower()
    glyphs = homoglyphs_map.get(letter_lower, [])
    if not glyphs:
        console.print(f"âŒ No homoglyphs found for '{letter}'.", style="red")
        return

    table = Table(title=f"ğŸ” Punycode Variants for '{letter}'")
    table.add_column("Original", justify="center", style="cyan")
    table.add_column("Punycode", justify="center", style="magenta")

    for glyph in glyphs:
        punycode = encode_punycode(glyph)
        if punycode:
            table.add_row(glyph, punycode)

    console.print(table)

def main():
    console.print("=== ğŸ¯ Full Homoglyph Punycode Viewer ğŸ¯ ===", style="bold green")
    console.print("Type 'exit' to quit.\n", style="yellow")

    while True:
        user_input = console.input("[bold blue]Enter a letter, number, or symbol: [/bold blue]").strip()
        if user_input.lower() == "exit":
            console.print("ğŸ‘‹ Exiting... Bye!", style="bold red")
            break
        elif len(user_input) == 1:
            generate_punycode_variants(user_input)
        else:
            console.print("â— Please enter a single character.", style="red")

if __name__ == "__main__":
    main()
